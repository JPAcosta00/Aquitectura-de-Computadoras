HAND EQU 40h

ORG 1000h
MSJ DB "INGRESE UN CARACTER"
FIN DB ?

ORG 1500h
CAR DB ?
TER DB ?

ORG 2000h
MOV CL,5
MOV DL,5
MOV BX,OFFSET MSJ
MOV AL,OFFSET FIN-OFFSET MSJ
INT 7
REPITE:MOV BX,OFFSET CAR
INT 6
DEC DL
JNZ REPITE
IN AL,HAND+1
AND AL,07Fh
OUT HAND+1,AL
POLL:IN AL,HAND+1
AND AL,1
JNZ POLL
MOV AL,[BX]
OUT HAND,AL
INC BX
DEC CL
JNZ POLL
POLL2:IN AL,HAND+1
AND AL,1
JNZ POLL2
MOV AL,[BX]
OUT HAND,AL
DEC BX
INC CL
CMP CL,5
JNZ POLL2
INT 0
END
